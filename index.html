<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Racket binaryen bindings</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewselflink" data-pltdoc="x">Racket binaryen bindings</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="index.html#%28part._.Getting_.Started%29" class="tocviewlink" data-pltdoc="x">Getting Started</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="index.html#%28part._.A.P.I%29" class="tocviewlink" data-pltdoc="x">API</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Racket_binaryen_bindings%29" class="tocsubseclink" data-pltdoc="x">Racket binaryen bindings</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Getting_.Started%29" class="tocsubseclink" data-pltdoc="x">Getting Started</a></td></tr><tr><td><span class="tocsublinknumber">1.1<tt>&nbsp;</tt></span><a href="#%28part._.Reading_.Web.Assembly%29" class="tocsubseclink" data-pltdoc="x">Reading Web<span class="mywbr"> &nbsp;</span>Assembly</a></td></tr><tr><td><span class="tocsublinknumber">1.2<tt>&nbsp;</tt></span><a href="#%28part._.Writing_.Web.Assembly%29" class="tocsubseclink" data-pltdoc="x">Writing Web<span class="mywbr"> &nbsp;</span>Assembly</a></td></tr><tr><td><span class="tocsublinknumber">1.3<tt>&nbsp;</tt></span><a href="#%28part._.Optimization%29" class="tocsubseclink" data-pltdoc="x">Optimization</a></td></tr><tr><td><span class="tocsublinknumber">1.4<tt>&nbsp;</tt></span><a href="#%28part._.A_.Longer_.Example%29" class="tocsubseclink" data-pltdoc="x">A Longer Example</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.A.P.I%29" class="tocsubseclink" data-pltdoc="x">API</a></td></tr><tr><td><span class="tocsublinknumber">2.1<tt>&nbsp;</tt></span><a href="#%28part._.Modules%29" class="tocsubseclink" data-pltdoc="x">Modules</a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">module?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._current-module%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>module</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module-create%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">module-<wbr></wbr>create</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module-valid~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">module-<wbr></wbr>valid?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module-print%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">module-<wbr></wbr>print</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module-optimize%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">module-<wbr></wbr>optimize!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module-read%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">module-<wbr></wbr>read</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module-parse%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">module-<wbr></wbr>parse</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module-write%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">module-<wbr></wbr>write</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.2<tt>&nbsp;</tt></span><a href="#%28part._.Features%29" class="tocsubseclink" data-pltdoc="x">Features</a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._feature~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">feature?</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._feature-mvp%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">feature-<wbr></wbr>mvp</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._feature-atomics%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">feature-<wbr></wbr>atomics</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._feature-bulk-memory%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">feature-<wbr></wbr>bulk-<wbr></wbr>memory</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._feature-mutable-globals%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">feature-<wbr></wbr>mutable-<wbr></wbr>globals</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._feature-nontrapping-fptoint%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">feature-<wbr></wbr>nontrapping-<wbr></wbr>fptoint</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._feature-sign-extension%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">feature-<wbr></wbr>sign-<wbr></wbr>extension</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._feature-simd128%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">feature-<wbr></wbr>simd128</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._feature-exception-handling%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">feature-<wbr></wbr>exception-<wbr></wbr>handling</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._feature-tail-call%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">feature-<wbr></wbr>tail-<wbr></wbr>call</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._feature-reference-types%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">feature-<wbr></wbr>reference-<wbr></wbr>types</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._feature-multivalue%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">feature-<wbr></wbr>multivalue</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._feature-gc%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">feature-<wbr></wbr>gc</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._feature-memory64%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">feature-<wbr></wbr>memory64</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._feature-typed-function-references%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">feature-<wbr></wbr>typed-<wbr></wbr>function-<wbr></wbr>references</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._feature-all%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">feature-<wbr></wbr>all</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module-features%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">module-<wbr></wbr>features</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._set-module-features%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">set-<wbr></wbr>module-<wbr></wbr>features!</span></a></td></tr><tr><td><span class="tocsublinknumber">2.3<tt>&nbsp;</tt></span><a href="#%28part._.Functions%29" class="tocsubseclink" data-pltdoc="x">Functions</a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module-add-function%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">module-<wbr></wbr>add-<wbr></wbr>function</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module-function-count%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">module-<wbr></wbr>function-<wbr></wbr>count</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module-function%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">module-<wbr></wbr>function</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._function-name%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">function-<wbr></wbr>name</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._function-parameter-types%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">function-<wbr></wbr>parameter-<wbr></wbr>types</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._function-result-types%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">function-<wbr></wbr>result-<wbr></wbr>types</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._function-variable-count%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">function-<wbr></wbr>variable-<wbr></wbr>count</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._function-variable-type%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">function-<wbr></wbr>variable-<wbr></wbr>type</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._function-get-locals-count%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">function-<wbr></wbr>get-<wbr></wbr>locals-<wbr></wbr>count</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._function-local-has-name~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">function-<wbr></wbr>local-<wbr></wbr>has-<wbr></wbr>name?</span></a></td></tr><tr><td><span class="tocsublinknumber">2.4<tt>&nbsp;</tt></span><a href="#%28part._.Types%29" class="tocsubseclink" data-pltdoc="x">Types</a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._type~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">type?</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._type-none%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">type-<wbr></wbr>none</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._type-int32%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">type-<wbr></wbr>int32</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._type-int64%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">type-<wbr></wbr>int64</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._type-float32%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">type-<wbr></wbr>float32</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._type-float64%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">type-<wbr></wbr>float64</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._type-vec128%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">type-<wbr></wbr>vec128</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._type-funcref%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">type-<wbr></wbr>funcref</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._type-externref%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">type-<wbr></wbr>externref</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._type-anyref%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">type-<wbr></wbr>anyref</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._type-eqref%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">type-<wbr></wbr>eqref</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._type-i31ref%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">type-<wbr></wbr>i31ref</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._type-dataref%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">type-<wbr></wbr>dataref</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._type-unreachable%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">type-<wbr></wbr>unreachable</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._type-auto%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">type-<wbr></wbr>auto</span></a></td></tr><tr><td><span class="tocsublinknumber">2.5<tt>&nbsp;</tt></span><a href="#%28part._.Literals%29" class="tocsubseclink" data-pltdoc="x">Literals</a></td></tr><tr><td><span class="tocsublinknumber">2.6<tt>&nbsp;</tt></span><a href="#%28part._.Exports%29" class="tocsubseclink" data-pltdoc="x">Exports</a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._export~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">export?</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module-export-function%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">module-<wbr></wbr>export-<wbr></wbr>function</span></a></td></tr><tr><td><span class="tocsublinknumber">2.7<tt>&nbsp;</tt></span><a href="#%28part._.Expressions%29" class="tocsubseclink" data-pltdoc="x">Expressions</a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._expression~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">expression?</span></a></td></tr><tr><td><span class="tocsublinknumber">2.7.1<tt>&nbsp;</tt></span><a href="#%28part._.Binary_.Expressions%29" class="tocsubseclink" data-pltdoc="x">Binary Expressions</a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._binary-expression~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">binary-<wbr></wbr>expression?</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._make-add-int32%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">make-<wbr></wbr>add-<wbr></wbr>int32</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._make-sub-int32%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">make-<wbr></wbr>sub-<wbr></wbr>int32</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._binaryen%2Fmain..rkt%29._make-mult-int32%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">make-<wbr></wbr>mult-<wbr></wbr>int32</span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="versionNoNav">8.1.0.6</span></div><h2><a name="(part._.Racket_binaryen_bindings)"></a><a name="(mod-path._binaryen)"></a>Racket binaryen bindings</h2><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">require</span></span></span><span class="stt"> </span><a href="index.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">binaryen</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/racket-binaryen" title="Install this package using `raco pkg install racket-binaryen`"><span class="stt">racket-binaryen</span></a></span></td></tr></table></p><p>This is a wrapper for the Binaryen suite of WebAssembly tools. <a name="(tech._webassembly)"></a><span style="font-style: italic">WebAssembly</span> (or <a name="(tech._wasm)"></a><span style="font-style: italic">Wasm</span>) is a binary instruction format for a stack-based virtual machine. More information can be found in its <a href="https://webassembly.org/">webpage</a>.</p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="index.html#%28part._.Getting_.Started%29" class="toptoclink" data-pltdoc="x">1<span class="hspace">&nbsp;</span>Getting Started</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="index.html#%28part._.Reading_.Web.Assembly%29" class="toclink" data-pltdoc="x">1.1<span class="hspace">&nbsp;</span>Reading WebAssembly</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="index.html#%28part._.Writing_.Web.Assembly%29" class="toclink" data-pltdoc="x">1.2<span class="hspace">&nbsp;</span>Writing WebAssembly</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="index.html#%28part._.Optimization%29" class="toclink" data-pltdoc="x">1.3<span class="hspace">&nbsp;</span>Optimization</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="index.html#%28part._.A_.Longer_.Example%29" class="toclink" data-pltdoc="x">1.4<span class="hspace">&nbsp;</span>A Longer Example</a></p></td></tr><tr><td><p><span class="hspace"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="index.html#%28part._.A.P.I%29" class="toptoclink" data-pltdoc="x">2<span class="hspace">&nbsp;</span>API</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="index.html#%28part._.Modules%29" class="toclink" data-pltdoc="x">2.1<span class="hspace">&nbsp;</span>Modules</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="index.html#%28part._.Features%29" class="toclink" data-pltdoc="x">2.2<span class="hspace">&nbsp;</span>Features</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="index.html#%28part._.Functions%29" class="toclink" data-pltdoc="x">2.3<span class="hspace">&nbsp;</span>Functions</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="index.html#%28part._.Types%29" class="toclink" data-pltdoc="x">2.4<span class="hspace">&nbsp;</span>Types</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="index.html#%28part._.Literals%29" class="toclink" data-pltdoc="x">2.5<span class="hspace">&nbsp;</span>Literals</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="index.html#%28part._.Exports%29" class="toclink" data-pltdoc="x">2.6<span class="hspace">&nbsp;</span>Exports</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="index.html#%28part._.Expressions%29" class="toclink" data-pltdoc="x">2.7<span class="hspace">&nbsp;</span>Expressions</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="index.html#%28part._.Binary_.Expressions%29" class="toclink" data-pltdoc="x">2.7.1<span class="hspace">&nbsp;</span>Binary Expressions</a></p></td></tr></table><h3>1<tt>&nbsp;</tt><a name="(part._.Getting_.Started)"></a>Getting Started</h3><p>You are interested in Racket and WebAssembly and somehow found this package? However, you have no idea where to start... well, you came to the right place!</p><p><div class="SIntrapara">This package is a set of (experimental) safe high level bindings for <a href="https://github.com/WebAssembly/binaryen">binaryen</a>. Binaryen itself is a library written in C++ with a C API, that aims to make compiling to WebAssembly easy, fast, and effective. It is very versatile allowing you to read wasm files, do some transformation and spit it out again, or create your own WebAssembly module from scratch. </div><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>There will be times when a binaryen function is not available yet in this package. I add more support on a regular basis but might have not done so for the functions you need. In that case, <a href="https://github.com/pmatos/racket-binaryen/issues/new">open an issue</a> and I will prioritize your requirements.</p></blockquote></blockquote></blockquote></div></p><h4>1.1<tt>&nbsp;</tt><a name="(part._.Reading_.Web.Assembly)"></a>Reading WebAssembly</h4><p>Consider the following Wasm module in text format:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">module</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">func</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">$double</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">export</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"wasm_double"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">param</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">$x</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">i32</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">result</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">i32</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">i32.mul</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">i32.const</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">local.get</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">$x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">func</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">$collatz_iteration</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">export</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"wasm_col_iter"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">param</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">$x</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">i32</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">result</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">i32</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">i32.add</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">i32.const</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">i32.mul</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">i32.const</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">local.get</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">$x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>This example defines two functions that are exported from the module: <span class="stt">double</span> and <span class="stt">collatz_iteration</span>. The function <span class="stt">double</span> is exported with the name <span class="stt">wasm_double</span> and the function <span class="stt">collatz_iteration</span> is exported with the name <span class="stt">wasm_col_iter</span>.</p><p>To parse a module from a string, use the function <span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module-parse%29%29" class="RktValLink" data-pltdoc="x">module-parse</a></span>.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">require</span><span class="hspace">&nbsp;</span><span class="RktSym">binaryen</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">racket/port</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">wasm-mod</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">module</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">func</span><span class="hspace">&nbsp;</span><span class="RktVal">$double</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">export</span><span class="hspace">&nbsp;</span><span class="RktVal">"wasm_double"</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">param</span><span class="hspace">&nbsp;</span><span class="RktVal">$x</span><span class="hspace">&nbsp;</span><span class="RktVal">i32</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">result</span><span class="hspace">&nbsp;</span><span class="RktVal">i32</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">i32.mul</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">i32.const</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">local.get</span><span class="hspace">&nbsp;</span><span class="RktVal">$x</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">func</span><span class="hspace">&nbsp;</span><span class="RktVal">$collatz_iteration</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">export</span><span class="hspace">&nbsp;</span><span class="RktVal">"wasm_col_iter"</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">param</span><span class="hspace">&nbsp;</span><span class="RktVal">$x</span><span class="hspace">&nbsp;</span><span class="RktVal">i32</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">result</span><span class="hspace">&nbsp;</span><span class="RktVal">i32</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">i32.add</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">i32.const</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">i32.mul</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">i32.const</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">local.get</span><span class="hspace">&nbsp;</span><span class="RktVal">$x</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">mod</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module-parse%29%29" class="RktValLink" data-pltdoc="x">module-parse</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">with-output-to-string</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">lambda</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">write</span><span class="hspace">&nbsp;</span><span class="RktSym">wasm-mod</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module-valid~3f%29%29" class="RktValLink" data-pltdoc="x">module-valid?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">mod</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote></div></p><p>We have read the module in, and checked it&rsquo;s valid. We can perform a
number of queries on the module.</p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module-function-count%29%29" class="RktValLink" data-pltdoc="x">module-function-count</a></span><span class="hspace">&nbsp;</span><span class="RktSym">mod</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">2</span></p></td></tr></table></blockquote></div></p><p>You can see how it is printed to standard output.</p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module-print%29%29" class="RktValLink" data-pltdoc="x">module-print</a></span><span class="hspace">&nbsp;</span><span class="RktSym">mod</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">(module</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;</span><span class="RktOut">(type $i32_=&gt;_i32 (func (param i32) (result i32)))</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;</span><span class="RktOut">(export "wasm_double" (func $double))</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;</span><span class="RktOut">(export "wasm_col_iter" (func $collatz_iteration))</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;</span><span class="RktOut">(func $double (param $x i32) (result i32)</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">(i32.mul</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">(i32.const 2)</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">(local.get $x)</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">)</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;</span><span class="RktOut">)</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;</span><span class="RktOut">(func $collatz_iteration (param $x i32) (result i32)</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">(i32.add</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">(i32.const 1)</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">(i32.mul</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">(i32.const 3)</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">(local.get $x)</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">)</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">)</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;</span><span class="RktOut">)</span></p></td></tr><tr><td><p><span class="RktOut">)</span></p></td></tr></table></td></tr></table></blockquote></div></p><h4>1.2<tt>&nbsp;</tt><a name="(part._.Writing_.Web.Assembly)"></a>Writing WebAssembly</h4><p>You can also create WebAssembly on the fly, have it optimized and write it to a file. Lets say that we want to manually create a module that contains a function <span class="stt">square</span>, that multiplies a number with itself.</p><p>What we want to create is something like this:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">module</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">func</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">$square</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">export</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"square"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">param</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">$x</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">i32</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">result</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">$i32</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">i32.mul</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">local.get</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">$x</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">local.get</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">$x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>Most functions in this library will receive an optional <span class="RktSym">module</span> to use as last parameter. If not provided, they will the value of <span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._current-module%29%29" class="RktValLink" data-pltdoc="x">current-module</a></span> which is useful to create WebAssembly code since you tend to work on a module at a time.</p><p>The racket code will take this shape:</p><h4>1.3<tt>&nbsp;</tt><a name="(part._.Optimization)"></a>Optimization</h4><h4>1.4<tt>&nbsp;</tt><a name="(part._.A_.Longer_.Example)"></a>A Longer Example</h4><h3>2<tt>&nbsp;</tt><a name="(part._.A.P.I)"></a>API</h3><h4>2.1<tt>&nbsp;</tt><a name="(part._.Modules)"></a>Modules</h4><p>A <a name="(tech._module)"></a><span style="font-style: italic">module</span> is the representation of a <a href="index.html#%28tech._webassembly%29" class="techoutside" data-pltdoc="x"><span class="techinside">WebAssembly</span></a> module into which you add functions, etc.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._module~3f))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">module?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Checks if the value <span class="RktVar">x</span> is a WebAssembly module.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._current-module))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._current-module%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-module</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module~3f%29%29" class="RktValLink" data-pltdoc="x">module?</a></span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._current-module%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-module</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">module</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">void?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">module</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module~3f%29%29" class="RktValLink" data-pltdoc="x">module?</a></span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">#false</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">A parameter that defines the current module to use.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._module-create))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module-create%29%29" class="RktValDef RktValLink" data-pltdoc="x">module-create</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">void?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Creates an empty WebAssembly module.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._module-valid~3f))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module-valid~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">module-valid?</a></span></span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">mod</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mod</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module~3f%29%29" class="RktValLink" data-pltdoc="x">module?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._current-module%29%29" class="RktValLink" data-pltdoc="x">current-module</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Validates the Wasm module <span class="RktVar">mod</span>, returning <span class="RktVal">#true</span> if it is a valid module and <span class="RktVal">#false</span> otherwise.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._module-print))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module-print%29%29" class="RktValDef RktValLink" data-pltdoc="x">module-print</a></span></span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">mod</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">void?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mod</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module~3f%29%29" class="RktValLink" data-pltdoc="x">module?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._current-module%29%29" class="RktValLink" data-pltdoc="x">current-module</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Prints the Wasm module <span class="RktVar">mod</span> to standard output.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._module-optimize!))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module-optimize%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">module-optimize!</a></span></span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">mod</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">void?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mod</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module~3f%29%29" class="RktValLink" data-pltdoc="x">module?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._current-module%29%29" class="RktValLink" data-pltdoc="x">current-module</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Optimizes the Wasm module <span class="RktVar">mod</span> in-place.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._module-read))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module-read%29%29" class="RktValDef RktValLink" data-pltdoc="x">module-read</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module~3f%29%29" class="RktValLink" data-pltdoc="x">module?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">bytes?</span></td></tr></table></blockquote></div><div class="SIntrapara">Reads a module in binary format from bytes <span class="RktVar">in</span> and returns a Wasm module.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._module-parse))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module-parse%29%29" class="RktValDef RktValLink" data-pltdoc="x">module-parse</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">s</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module~3f%29%29" class="RktValLink" data-pltdoc="x">module?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">s</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">string?</span></td></tr></table></blockquote></div><div class="SIntrapara">Reads a module from string <span class="RktVar">s</span> and returns a Wasm module. </div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._module-write))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module-write%29%29" class="RktValDef RktValLink" data-pltdoc="x">module-write</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">mod</span><span class="hspace">&nbsp;</span><span class="RktVar">textual?</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktPn">#:source-map</span><span class="hspace">&nbsp;</span><span class="RktVar">sm</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">bytes?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mod</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module~3f%29%29" class="RktValLink" data-pltdoc="x">module?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">textual?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">boolean?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">sm</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym">string?</span><span class="hspace">&nbsp;</span><span class="RktVal">#false</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#false</span></td></tr></table></blockquote></div><div class="SIntrapara">Writes module <span class="RktVar">mod</span> to a byte string using source map <span class="RktVar">sm</span>, if provided. Returns the byte string. The module is read in text format if <span class="RktVar">textual?</span> is true, and in binary format otherwise.</div></p><h4>2.2<tt>&nbsp;</tt><a name="(part._.Features)"></a>Features</h4><p>Features refer to WebAssembly features that are enabled in a module and generally refer to which WebAssembly proposals have been implemented in Binaryen.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._feature~3f))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">feature?</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Predicate to check if value <span class="RktVar">x</span> is a feature.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._binaryen/main..rkt)._feature-mvp))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">feature-mvp</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">feature?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">This feature refers to the language implemented in the <a href="https://webassembly.github.io/spec/core/">WebAssembly MVP</a>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._binaryen/main..rkt)._feature-atomics))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">feature-atomics</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">feature?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">This feature refers to the <a href="https://github.com/WebAssembly/threads">Threads and Atomics WebAssembly</a> proposal.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._binaryen/main..rkt)._feature-bulk-memory))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">feature-bulk-memory</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">feature?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">This feature refers to the <a href="https://github.com/WebAssembly/bulk-memory-operations">Bulk Memory proposal</a>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._binaryen/main..rkt)._feature-mutable-globals))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">feature-mutable-globals</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">feature?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">This feature refers to the <a href="https://github.com/WebAssembly/mutable-global">Import and Export of mutable globals proposal</a>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._binaryen/main..rkt)._feature-nontrapping-fptoint))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">feature-nontrapping-fptoint</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">feature?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">This feature refers to the <a href="https://github.com/WebAssembly/nontrapping-float-to-int-conversions">Non-trapping float-to-int conversions proposal</a>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._binaryen/main..rkt)._feature-sign-extension))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">feature-sign-extension</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">feature?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">This feature refers to the <a href="https://github.com/WebAssembly/sign-extension-ops">Sign extension proposal</a>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._binaryen/main..rkt)._feature-simd128))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">feature-simd128</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">feature?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">This feature refers to the <a href="https://github.com/webassembly/simd">SIMD proposal</a>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._binaryen/main..rkt)._feature-exception-handling))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">feature-exception-handling</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">feature?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">This feature refers to the <a href="https://github.com/WebAssembly/exception-handling">Exception Handling proposal</a>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._binaryen/main..rkt)._feature-tail-call))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">feature-tail-call</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">feature?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">This feature refers to the <a href="https://github.com/WebAssembly/tail-call">Tail calls proposal</a>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._binaryen/main..rkt)._feature-reference-types))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">feature-reference-types</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">feature?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">This feature refers to the <a href="https://github.com/WebAssembly/reference-types">Reference Types proposal</a>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._binaryen/main..rkt)._feature-multivalue))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">feature-multivalue</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">feature?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">This feature refers to the <a href="https://github.com/WebAssembly/multi-value">Multivalue proposal</a>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._binaryen/main..rkt)._feature-gc))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">feature-gc</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">feature?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">This feature refers to the <a href="https://github.com/WebAssembly/gc/">Garbage Collection proposal</a>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._binaryen/main..rkt)._feature-memory64))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">feature-memory64</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">feature?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">This feature refers to the <a href="https://github.com/WebAssembly/memory64">Memory with 64bit indexes proposal</a>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._binaryen/main..rkt)._feature-typed-function-references))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">feature-typed-function-references</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">feature?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">This feature refers to the <a href="https://github.com/WebAssembly/function-references">Typed Function References proposal</a>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._binaryen/main..rkt)._feature-all))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">feature-all</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym">feature?</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">List containing all supported features.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._module-features))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">module-features</span></span></span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">mod</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym">feature?</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mod</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">module?</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">current-module</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the list of WebAssembly features required by module <span class="RktVar">mod</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._set-module-features!))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">set-module-features!</span></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">features</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:module</span><span class="hspace">&nbsp;</span><span class="RktVar">mod</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym">void?</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">features</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym">feature?</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mod</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">module?</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">current-module</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Sets the required features by module <span class="RktVar">mod</span> to be <span class="RktVar">features</span>.</div></p><h4>2.3<tt>&nbsp;</tt><a name="(part._.Functions)"></a>Functions</h4><p>A <a name="(tech._function)"></a><span style="font-style: italic">function</span> is the representation of a <a href="index.html#%28tech._webassembly%29" class="techoutside" data-pltdoc="x"><span class="techinside">WebAssembly</span></a> function.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._module-add-function))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module-add-function%29%29" class="RktValDef RktValLink" data-pltdoc="x">module-add-function</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">arg-types</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">result-types</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">var-types</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">body</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:module</span><span class="hspace">&nbsp;</span><span class="RktVar">mod</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym">function?</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">string?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">arg-types</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym">type?</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">result-types</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym">type?</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">var-types</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym">type?</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._expression~3f%29%29" class="RktValLink" data-pltdoc="x">expression?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mod</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module~3f%29%29" class="RktValLink" data-pltdoc="x">module?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._current-module%29%29" class="RktValLink" data-pltdoc="x">current-module</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Adds a function to module <span class="RktVar">mod</span>. The function&rsquo;s name is <span class="RktVar">name</span> and its argument types are given by the types in the list <span class="RktVar">arg-types</span>. It returns as many results as there are elements in <span class="RktVar">result-types</span>, and its elements describe the type of each of the result values. The expression <span class="RktVar">body</span> is the expression that computes the result of the function. The list <span class="RktVar">var-types</span> contains the types of the local variables of the body of the function. It might seem strange that <span class="RktVar">var-types</span> is required at this point but take into consideration that in WebAssembly variables share an index space with arguments. So the locals in the function are arguments whose index starts at 0, followed by the the variables whose index starts at <span class="RktPn">(</span><span class="RktSym">length</span><span class="stt"> </span><span class="RktVar">arg-types</span><span class="RktPn">)</span>. To setup this index space, we need to know the variable types at the point the function is created.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._module-function-count))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module-function-count%29%29" class="RktValDef RktValLink" data-pltdoc="x">module-function-count</a></span></span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktPn">#:module</span><span class="hspace">&nbsp;</span><span class="RktVar">mod</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">exact-positive-integer?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mod</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module~3f%29%29" class="RktValLink" data-pltdoc="x">module?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._current-module%29%29" class="RktValLink" data-pltdoc="x">current-module</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Takes a module as an argument and it returns the number of functions in the module.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._module-function))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module-function%29%29" class="RktValDef RktValLink" data-pltdoc="x">module-function</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">idx</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktPn">#:module</span><span class="hspace">&nbsp;</span><span class="RktVar">mod</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">function?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">idx</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">exact-nonnegative-integer?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mod</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module~3f%29%29" class="RktValLink" data-pltdoc="x">module?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._current-module%29%29" class="RktValLink" data-pltdoc="x">current-module</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the <a href="index.html#%28tech._function%29" class="techoutside" data-pltdoc="x"><span class="techinside">function</span></a> in <span class="RktVar">mod</span> indexed by <span class="RktVar">idx</span>, where <span class="RktVar">idx</span><span class="stt"> </span><span class="RktSym">&lt;</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._module-function-count%29%29" class="RktValLink" data-pltdoc="x">module-function-count</a></span><span class="stt"> </span><span class="RktVar">mod</span><span class="RktPn">)</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._function-name))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._function-name%29%29" class="RktValDef RktValLink" data-pltdoc="x">function-name</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">string?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">function?</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the name of function <span class="RktVar">f</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._function-parameter-types))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._function-parameter-types%29%29" class="RktValDef RktValLink" data-pltdoc="x">function-parameter-types</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym">type?</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">function?</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the list of types corresponding to the parameters of function <span class="RktVar">f</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._function-result-types))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._function-result-types%29%29" class="RktValDef RktValLink" data-pltdoc="x">function-result-types</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym">type?</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">function?</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the list of types corresponding to the results of function <span class="RktVar">f</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._function-variable-count))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._function-variable-count%29%29" class="RktValDef RktValLink" data-pltdoc="x">function-variable-count</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">exact-positive-integer?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">function?</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the number of variables in function <span class="RktVar">f</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._function-variable-type))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><a href="index.html#%28def._%28%28lib._binaryen%2Fmain..rkt%29._function-variable-type%29%29" class="RktValDef RktValLink" data-pltdoc="x">function-variable-type</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">type?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">function?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">exact-positive-integer?</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the type of the variable with index <span class="RktVar">n</span><span class="stt"> </span><span class="RktSym"><span class="nobreak">-</span></span><span class="stt"> </span><span class="RktVal">1</span> of function <span class="RktVar">f</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._function-get-locals-count))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">function-get-locals-count</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">exact-nonnegative-integer?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">function?</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the number of locals in function <span class="RktVar">f</span>, including parameters.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._function-local-has-name~3f))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">function-local-has-name?</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">function?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">exact-nonnegtive-integer?</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktSym">true</span> if the local indexed by <span class="RktVar">n</span> in function <span class="RktVar">f</span> has a name, and <span class="RktSym">false</span> otherwise.</div></p><h4>2.4<tt>&nbsp;</tt><a name="(part._.Types)"></a>Types</h4><p>Types refer to WebAssembly types such as <span class="stt">int32</span>, <span class="stt">int64</span>, etc. There are basic types and ways to aggregate a type from these basic types.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._type~3f))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">type?</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Predicate to check if value <span class="RktVar">x</span> is a WebAssembly type.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._binaryen/main..rkt)._type-none))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">type-none</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">type?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">The type <span class="stt">None</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._binaryen/main..rkt)._type-int32))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">type-int32</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">type?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">The type <span class="stt">Int32</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._binaryen/main..rkt)._type-int64))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">type-int64</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">type?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">The type <span class="stt">Int64</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._binaryen/main..rkt)._type-float32))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">type-float32</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">type?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">The type <span class="stt">Float32</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._binaryen/main..rkt)._type-float64))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">type-float64</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">type?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">The type <span class="stt">Float64</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._binaryen/main..rkt)._type-vec128))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">type-vec128</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">type?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">The type <span class="stt">Vec128</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._binaryen/main..rkt)._type-funcref))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">type-funcref</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">type?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">The type <span class="stt">Funcref</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._binaryen/main..rkt)._type-externref))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">type-externref</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">type?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">The type <span class="stt">Externref</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._binaryen/main..rkt)._type-anyref))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">type-anyref</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">type?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">The type <span class="stt">Anyref</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._binaryen/main..rkt)._type-eqref))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">type-eqref</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">type?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">The type <span class="stt">Eqref</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._binaryen/main..rkt)._type-i31ref))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">type-i31ref</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">type?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">The type <span class="stt">I31ref</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._binaryen/main..rkt)._type-dataref))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">type-dataref</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">type?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">The type <span class="stt">Dataref</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._binaryen/main..rkt)._type-unreachable))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">type-unreachable</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">type?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">The type <span class="stt">Unreachable</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._binaryen/main..rkt)._type-auto))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">type-auto</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">type?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">The type <span class="stt">Auto</span>.</div></p><h4>2.5<tt>&nbsp;</tt><a name="(part._.Literals)"></a>Literals</h4><h4>2.6<tt>&nbsp;</tt><a name="(part._.Exports)"></a>Exports</h4><p>An <a name="(tech._export)"></a><span style="font-style: italic">export</span> represent a value that is exported from a WebAssembly <a href="index.html#%28tech._module%29" class="techoutside" data-pltdoc="x"><span class="techinside">module</span></a>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._export~3f))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">export?</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Checks if the value <span class="RktVar">x</span> is a WebAssembly <a href="index.html#%28tech._export%29" class="techoutside" data-pltdoc="x"><span class="techinside">export</span></a>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._module-export-function))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">module-export-function</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktPn">#:module</span><span class="hspace">&nbsp;</span><span class="RktVar">mod</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">export?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">string?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">string?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mod</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">module?</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">current-module</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Exports the function with internal name <span class="RktVar">in</span> in module <span class="RktVar">mod</span> as <span class="RktVar">out</span>, returning a reference to the export.</div></p><h4>2.7<tt>&nbsp;</tt><a name="(part._.Expressions)"></a>Expressions</h4><p>An <a name="(tech._expression)"></a><span style="font-style: italic">expression</span> is a way to transform <a href="index.html#%28tech._wasm%29" class="techoutside" data-pltdoc="x"><span class="techinside">Wasm</span></a> values through computation.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._expression~3f))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">expression?</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Checks if the value <span class="RktVar">x</span> is an expression.</div></p><h5>2.7.1<tt>&nbsp;</tt><a name="(part._.Binary_.Expressions)"></a>Binary Expressions</h5><p>A <a name="(tech._binary._expression)"></a><span style="font-style: italic">binary expression</span> is an <a href="index.html#%28tech._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">expression</span></a> that operates on two values.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._binary-expression~3f))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">binary-expression?</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Checks if the value <span class="RktVar">x</span> is a binary expression.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._make-add-int32))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">make-add-int32</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktPn">#:module</span><span class="hspace">&nbsp;</span><span class="RktVar">mod</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">binary-expression?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expression?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expression?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mod</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">module?</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">current-module</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a <a href="index.html#%28tech._binary._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">binary expression</span></a> that represents the addition of <span class="RktVar">a</span> to <span class="RktVar">b</span>, both of which must have type <span class="RktSym">type-int32</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._make-sub-int32))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">make-sub-int32</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktPn">#:module</span><span class="hspace">&nbsp;</span><span class="RktVar">mod</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">binary-expression?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expression?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expression?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mod</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">module?</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">current-module</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a <a href="index.html#%28tech._binary._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">binary expression</span></a> that represents the subtraction of <span class="RktVar">b</span> from <span class="RktVar">a</span>, both of which must have type <span class="RktSym">type-int32</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._binaryen/main..rkt)._make-mult-int32))"></a><span title="Provided from: binaryen | Package: racket-binaryen"><span class="RktSym"><span class="RktSymDef RktSym">make-mult-int32</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktPn">#:module</span><span class="hspace">&nbsp;</span><span class="RktVar">mod</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">binary-expression?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expression?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">expression?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mod</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">module?</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">current-module</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a <a href="index.html#%28tech._binary._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">binary expression</span></a> that represents the multiplication between <span class="RktVar">a</span> and <span class="RktVar">b</span>, both of which must have type <span class="RktSym">type-int32</span>.</div></p></div></div><div id="contextindicator">&nbsp;</div></body></html>